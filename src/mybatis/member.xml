<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<select id="joinInsert" parameterType="vo.MemberVo">
		INSERT INTO member_info(member_id, member_pw, first_name, last_name, phone, 
		birth_date, gender, reg_date) 
		VALUES(#{member_id}, #{member_pw}, #{first_name}, #{last_name}, #{phone}, 
		#{birth_date}, #{gender}, SYSDATE)
	</select>
	<select id="login" parameterType="java.util.Map" resultType="vo.MemberVo">
		SELECT member_id, first_name, last_name, phone, birth_date, gender, reg_date FROM member_info WHERE member_id = #{member_id} AND member_pw = #{member_pw}
	</select>
	<select id="idDuplicationCheck" parameterType="vo.MemberVo" resultType="int">
		SELECT COUNT(member_id) as cnt FROM member_info WHERE member_id = #{member_id}
	</select>
	<select id="getMemberList" resultType="vo.MemberVo">
		SELECT member_id, last_name, first_name, phone, birth_date, gender, reg_date FROM member_info
	</select>
	<delete id="deleteMemberInfo" parameterType="String">
		DELETE FROM member_info WHERE member_id = #{member_id}
	</delete>
	<select id="idFind" parameterType="String" resultType="String">
		SELECT member_id FROM member_info WHERE phone = #{phone}
	</select>

	
	<update id="changePw" parameterType="vo.MemberVo">
		UPDATE member_info SET member_pw = #{member_pw} WHERE member_id = #{member_id}
	</update>
</mapper>